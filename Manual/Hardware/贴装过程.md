# 电子通行证制作指南

版本：V0.3.1


## 在一切开始之前...
> 本项目包含QFN表面贴装器件，如果您此前没有使用表面贴装器件进行DIY项目的经验，建议您通过其他较简单的项目练习贴装，**不要直接开始制作**。

## 除了bom表中的器件外，应该准备的工具:

### 焊接工具

| 工具名称 | 说明 |
| ----------- | ----------- |
| 锡膏 | 锡膏温度不建议过高，使用熔点在173-213摄氏度之间的中温锡即可 |
| 锡丝 | 焊接直插器件时比锡膏舒服，建议熔点同上 |
| 助焊剂 | 弥补焊接技术不足的好工具，一般使用针管装smt焊油 |
| 洗板水 | 如果出现奇怪的短路问题，请使用洗板水洗干净pcb再测试，有条件的可以使用超声波清洗仪 |
| 电烙铁 | 一把正版的黄花电烙铁足矣，温度不宜过高，开在300度左右即可 |
| 热风枪 | 有条件最好选用868D(气泵式),858D(风扇式)加热不太均匀 |
| 加热台 | reserved |
| 镊子 | 为了舒服地贴装，最好有直头镊子和弯头镊子，镊子可能被助焊剂污染，当镊子明显与器件粘连时，用酒精和洗板水清洗镊尖 |
| 放大镜 | 最好是玻璃放大镜，帮你看清微小的焊点 |
| 吸锡带 | 当焊盘上出现了过多的锡，使用它去除。你也可以使用吸锡器，但是需要一些练习 |
| 高温胶带 | 保护/绝缘/临时固定，pcb上的万用胶带 |
| *漆包线 | 非必选项，但是遇到意外时它很有用 |

### 调试工具

| 工具名称 | 说明 |
| --- | ----- |
| 万用表 | reserved |
| USB转串口 | 没有此工具将无法在屏幕不工作的状态下调试设备 |

### 开始贴装之前...

* 本项目包含的器件体积较小，因此对于很多小型器件，不要加入大量的锡，否则可能会短路。对于0603器件，轻按针管挤出一点点锡到焊盘上即可。
* 遇到引脚较密集的器件，合理使用助焊剂增加锡融化后的表面张力让焊接变得方便。
* 不要使用过高的温度/过长的时间/局部加热焊接芯片，连接器等温度敏感器件，焊接时匀速顺时针/逆时针均匀加热器件。
* 如果无法使用烙铁焊接贴片器件就使用风枪焊接，不要强行焊接导致焊盘脱落。
* 使用镀锡pcb板时，请不要提前开封pcb，否则可能导致焊盘氧化导致大量虚焊。

## 贴装

![V0.3.1 电源架构](https://github.com/rhodesepass/hardware/blob/master/Manual/Img/power_diagram.png)

![V0.3.1 系统架构](https://github.com/rhodesepass/hardware/blob/master/Manual/Img/system_diagram.png)


上图展示了此版本电子通行证的主要构成模块，贴装遵循先供电，后核心，最后外设顺序进行。

![PCB上大致器件功能分类(具体贴装请参考原理图)](https://github.com/rhodesepass/hardware/blob/master/Manual/Img/system_diagram.png)

上图大致框出了各类器件，贴装过程按绿色，浅蓝色，红色，深蓝色顺序进行，若前一部分故障未调试完毕请不要贴装下一部分器件以免产生不确定因素干扰调试！

>绿色框选部分及其外围器件为供电器件，必须先行贴装。贴装后必须上电测试各路供电输出电压以及是否短路！

大量复刻案例由于电源器件虚焊导致电压超标，此时未测试即贴装其他器件可能烧毁器件！！！各路电压输出正常则说明绿色部分贴装完成。

>浅蓝色框选部分及其外围器件为核心器件，在电源测试通过后贴装，该类别器件引脚细密集成度高，需注意防静电防过热防虚焊。

该部分贴装后即可使用usb接口进行联机测试并烧录固件，此时使用usb串口转换器观察其状态，若能正常进入系统则说明蓝色部分贴装完成。



>红色框选部分及其外围器件为屏幕连接器及用户按钮，此类别器件大多为塑料件，需注意防过热。

该部分贴装后即可插入屏幕进行最终测试，若屏幕正常显示可拷入干员视频资源测试按钮工作状态，按钮工作正常则说明红色部分贴装完成。


>深蓝色部分为扩展板连接器和sd卡连接器，若不需要使用扩展版和/或sd卡可不贴装。
